input_url = "https://www.google.de/search?q="
input_file = 'data\input\cities.csv'
output_data_dir = 'data\output\/'
output_file_ext = '.csv'
first_run = False
search_query = "Immobilienmakler "
output_file_header = ['title', 'url']
pages_to_scrape = 25
output_urls_file = 'data\output_v3\output_v3.csv.csv'
output_domains_file = 'data\output\google_search_domains.csv'
iframe_code = '"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function(){var r,e=function(){var t=null;document.currentScript&&(t=document.currentScript.dataset.consentCookie||null);return t}(),o=Boolean(e),d=[],a=null,m=null;function n(){var n=function(){{if(o)return function(){var t=(document.cookie.split("; ")||[]).find(function(t){return t.startsWith(e)});if(t)return t.split("=")[1].split(",").map(function(t){return t.trim()}).filter(function(t){return Boolean(t)}).join(",");return null}();if(window.Cookiebot)return function(){try{var t=window.Cookiebot;if(t.consented||t.declined){var e=t.consent;return Object.entries({mandatory:e.necessary,marketing:e.marketing,analytics:e.statistics}).filter(function(t){var e=_slicedToArray(t,2),n=(e[0],e[1]);return Boolean(n)}).map(function(t){var e=_slicedToArray(t,2),n=e[0];e[1];return n}).join(",")}}catch(t){}return null}();if(window.BorlabsCookie)return function(){try{var t=window.BorlabsCookie;if(t.checkCookieGroupConsent("essential"))return Object.entries({mandatory:!0,marketing:t.checkCookieGroupConsent("marketing"),analytics:t.checkCookieGroupConsent("statistics")}).filter(function(t){var e=_slicedToArray(t,2),n=(e[0],e[1]);return Boolean(n)}).map(function(t){var e=_slicedToArray(t,2),n=e[0];e[1];return n}).join(",")}catch(t){}return null}()}}();if(null!==n){var t=d.filter(function(t){return!function(t){return r.has(t)}(t)});0===t.length?(clearInterval(a),a=null):t.forEach(function(t){var e="bottimmo:consent-given:".concat(n);t.contentWindow.postMessage(e,"*")})}}function t(){for(var f=document.querySelectorAll("[data-bottimmo]"),t=function(t){var e=f[t],n=e.dataset;if("HEAD"===e.parentElement.tagName)return y("If iFrame loader script is placed in the <head> section you should remove all data-* attributes and set them on a dummy <div> inside the body exactly where you want the content to be."),"continue";if(!n.company||!n.slug)return y("Missing attributes on placeholder element: data-company, data-slug"),"continue";if(void 0!==n.initialized)return"continue";m=m||"".concat("https","://").concat(n.company,".").concat("immowissen.org");var r=document.createElement("iframe"),o=new URL("".concat(m,"/").concat(n.slug,"/embed/"));n.variant&&o.searchParams.append("variant",n.variant);var a,i=_createForOfIteratorHelper(document.location.search.split(/[?&]/).filter(function(t){return/^(utm_|gclid|fbclid)/.test(t)}));try{for(i.s();!(a=i.n()).done;){var c=_slicedToArray(a.value.split(/=(.+)/),2),u=c[0],l=c[1];o.searchParams.append(u,l)}}catch(t){i.e(t)}finally{i.f()}r.src=o.href,r.style.cssText="width: 100%; height: 500px; overflow: auto; border: none;",e.parentNode.insertBefore(r,e),d.push(r);var s=document.createElement("script");s.src="https://iframe.".concat("immowissen.org","/resizer.min.js"),s.async=!0,s.onload=function(){window.iFrameResize({checkOrigin:!1},r)},e.parentNode.insertBefore(s,e),e.setAttribute("data-initialized","")},e=0;e<f.length;e++)t(e)}function y(t){window.console&&console.warn("BOTTIMMO: ".concat(t))}window.addEventListener("bottimmo:element-added",function(){t()}),t(),0<d.length&&(r=new Map,d.forEach(function(e){window.addEventListener("message",function(t){t.source===e.contentWindow&&("bottimmo:consent-ready"===t.data?n():"bottimmo:consent-received"===t.data&&function(t){r.set(t,!0)}(e))})}),a=setInterval(n,1e3),setTimeout(function(){a&&(clearInterval(a),a=setInterval(n,5e3),setTimeout(function(){clearInterval(a)},12e4))},3e4))}();'
ifrome_link = "https://iframe.immowissen.org/loader.min.js"
output_dir_v2 = 'data\output_v4\/'
final_output_dir_v3 = 'data\output_v3\/'
final_output_file_v3 = 'data\output_v3\output_v3.csv'
all_output_file_v3 = 'data\output_v3\output_all_v3.csv'
final_output_file_clean_v3 = 'data\output_v3\output_clean_v3.csv'
final_output_file_clean_v3_missing = 'data\output_v3\missing.csv'
final_output_file_clean_v4 = 'data\output_v3\output_clean_v4.csv'
final_output_file_clean_v5 = 'data\output_v5\output_clean_v5.csv'
